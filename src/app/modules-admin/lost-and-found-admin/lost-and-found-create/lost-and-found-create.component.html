<nz-spin [nzSpinning]="pageLoading">
  <form [formGroup]="lostAndFoundCreateForm" nz-form
        *ngIf="lostAndFoundType !== 'lost';else elseBlock">
    <nz-form-item>
      <nz-form-label [nzSpan]="3">{{'item' | translate}}</nz-form-label>
      <nz-form-control [nzSpan]="8" nzErrorTip="Please input your item!">
        <input formControlName="item" nz-input/>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item *ngIf="lostAndFoundType == 'lost'">
      <nz-form-label [nzSpan]="3">{{'description' | translate}}</nz-form-label>
      <nz-form-control [nzSpan]="8" nzErrorTip="Please input your description!">
        <input formControlName="description" nz-input/>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item *ngIf="lostAndFoundType == 'lost'">
      <nz-form-label [nzSpan]="3">{{'contact' | translate}}</nz-form-label>
      <nz-form-control [nzSpan]="8" nzErrorTip="Please input your contact method (Either email or h/p no.)!">
        <input formControlName="contact" nz-input/>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="3">{{'location.found' | translate}}</nz-form-label>
      <nz-form-control [nzSpan]="8" nzErrorTip="Please input your location!">
        <input formControlName="location" nz-input/>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item >
      <nz-form-label [nzSpan]="3">{{'upload' | translate}}</nz-form-label>
      <nz-form-control [nzSpan]="8">
        <nz-upload [(nzFileList)]="fileList" [nzBeforeUpload]="beforeUploadFile">
          <button class="upload-button" nz-button [disabled]="fileList.length > 0"><i nz-icon nzType="upload"></i>Select File</button>
        </nz-upload>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control style="display: flex; justify-content: flex-end;" [nzSpan]="8" nzOffset="3">
        <button [disabled]="!lostAndFoundCreateForm.valid || fileList.length == 0" nz-button nzType="primary" (click)="submitForm()">{{'submit' | translate}}</button>
      </nz-form-control>
    </nz-form-item>
  </form>
  <ng-template #elseBlock>
      <nz-card [nzBordered]="true" nzTitle="Add Lost Item">
        <form
              [formGroup]="lostAndFoundCreateForm"
              [nzLayout]="'vertical'"
              nz-form>
          <nz-form-item class="field-center">
            <nz-form-label [nzSpan]="3">{{'item' | translate}}:</nz-form-label>
            <nz-form-control [nzSpan]="8" nzErrorTip="Please input your item!">
              <input formControlName="item" nz-input/>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item class="field-center" *ngIf="lostAndFoundType == 'lost'">
            <nz-form-label [nzSpan]="3">{{'description' | translate}}:</nz-form-label>
            <nz-form-control [nzSpan]="8" nzErrorTip="Please input your description!">
              <input formControlName="description" nz-input/>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item class="field-center" *ngIf="lostAndFoundType == 'lost'">
            <nz-form-label [nzSpan]="3">{{'contact' | translate}}:</nz-form-label>
            <nz-form-control [nzSpan]="8" nzErrorTip="Please input your contact method (Either email or h/p no.)!">
              <input formControlName="contact" nz-input/>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item class="field-center">
            <nz-form-label [nzSpan]="3">Location Lost:</nz-form-label>
            <nz-form-control [nzSpan]="8" nzErrorTip="Please input your location!">
              <input formControlName="location" nz-input/>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item class="field-center">
            <nz-form-label [nzSpan]="3">{{'upload' | translate}}:</nz-form-label>
            <nz-form-control [nzSpan]="8">
              <nz-upload [(nzFileList)]="fileList" [nzBeforeUpload]="beforeUploadFile">
                <button class="upload-button" nz-button [disabled]="fileList.length > 0"><i nz-icon nzType="upload"></i>Select File</button>
              </nz-upload>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item class="create-button-container">
            <nz-form-control style="display:flex; justify-content: center !important;" [nzSpan]="8" nzOffset="1">
              <button [disabled]="!lostAndFoundCreateForm.valid" (click)="submitForm()" nz-button nzType="primary">{{'submit' | translate}}</button>
            </nz-form-control>
          </nz-form-item>

        </form>
      </nz-card>

  </ng-template>
</nz-spin>
